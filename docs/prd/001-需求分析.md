# MyCoffeeStore 需求分析文档

## 1. 项目概述

### 1.1 项目背景
- 项目名称：MyCoffeeStore
- 业务类型：精品咖啡店网站
- 地理位置：美国旧金山 Haight Ashbury 区
- 目标：为咖啡店建立在线展示和销售平台

### 1.2 目标用户
- 咖啡爱好者
- 本地顾客
- 外卖/自提顾客

---

## 2. 功能需求分析

### 2.1 模块划分

#### 2.1.1 首页展示模块
| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 咖啡店轮播图 | 展示店内环境、特色产品、活动信息 | P0 |
| 店铺介绍 | 品牌故事、位置信息、营业时间 | P0 |
| 特色咖啡推荐 | 精选咖啡产品展示 | P1 |

#### 2.1.2 用户模块
| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 用户注册 | 邮箱/手机号注册 | P0 |
| 用户登录 | 登录及找回密码 | P0 |
| 个人中心 | 查看个人信息、订单历史 | P1 |

#### 2.1.3 咖啡产品模块
| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 咖啡列表 | 分类浏览咖啡产品 | P0 |
| 咖啡详情 | 产品介绍、价格、规格选择 | P0 |
| 购物车 | 添加/删除商品、数量调整 | P0 |

#### 2.1.4 订单模块
| 功能点 | 描述 | 优先级 |
|--------|------|--------|
| 创建订单 | 选择取餐方式（堂食/外带/外卖） | P0 |
| 订单支付 | 支付接口集成 | P1 |
| 订单查询 | 查看订单状态、历史订单 | P0 |
| 订单管理（后台） | 商家处理订单 | P1 |

---

## 3. 非功能需求

### 3.1 性能需求
- 页面加载时间 < 2秒
- 支持 100+ 并发用户

### 3.2 安全需求
- 用户密码加密存储
- API 接口鉴权
- SQL 注入防护

### 3.3 兼容性需求
- 支持主流浏览器（Chrome, Safari, Firefox）
- 响应式设计，支持移动端

---

## 4. 技术架构

### 4.1 技术栈选型

| 层次 | 技术选型 | 说明 |
|------|----------|------|
| 前端 | React 18+ | 函数式组件 |
| 后端 | Java 17+ | JDK 17+, Lombok |
| ORM | MyBatis-Flex | 数据库访问 |
| 构建工具 | Maven (后端) / npm (前端) | 项目构建 |
| 容器化 | Docker | 部署 |

### 4.2 API 设计规范
遵循用户偏好：**仅使用 POST 和 GET 方法**
- GET：读操作（查询）
- POST：写操作（创建、更新、删除）

---

## 5. 数据模型设计

### 5.1 核心实体

#### 用户 (User)
- id: 用户ID
- username: 用户名
- password: 密码（加密）
- email: 邮箱
- phone: 手机号
- createTime: 创建时间

#### 咖啡产品 (Coffee)
- id: 产品ID
- name: 产品名称
- description: 产品描述
- price: 价格
- category: 分类
- imageUrl: 图片URL
- stock: 库存
- status: 状态（上架/下架）

#### 订单 (Order)
- id: 订单ID
- userId: 用户ID
- totalPrice: 总金额
- status: 订单状态
- orderType: 订单类型（堂食/外带/外卖）
- createTime: 创建时间

#### 订单详情 (OrderItem)
- id: 详情ID
- orderId: 订单ID
- coffeeId: 产品ID
- quantity: 数量
- price: 单价

---

## 6. 开发阶段规划

### 阶段一：项目初始化与设计
- [ ] 使用 Pencil MCP 设计网站原型
- [ ] 搭建前后端项目结构
- [ ] 配置开发环境

### 阶段二：后端基础服务
- [ ] 用户认证（注册/登录）
- [ ] 咖啡产品管理
- [ ] 购物车功能

### 阶段三：前端页面开发
- [ ] 首页及轮播图
- [ ] 用户登录/注册页面
- [ ] 咖啡列表及详情页
- [ ] 购物车及订单页面

### 阶段四：订单系统
- [ ] 订单创建与支付
- [ ] 订单查询与管理

### 阶段五：优化与部署
- [ ] 性能优化
- [ ] Docker 容器化部署
- [ ] 测试与上线

---

## 7. 风险与依赖

### 7.1 技术风险
- 支付接口集成复杂度
- 并发订单处理

### 7.2 外部依赖
- 支付网关（待选型）
- 图片存储服务

---

## 8. 下一步行动

1. 使用 Pencil MCP 设计网站原型
2. 创建后端项目结构（Spring Boot + MyBatis-Flex）
3. 创建前端项目结构（React + Vite）

---

*文档创建时间：2026-02-26*
