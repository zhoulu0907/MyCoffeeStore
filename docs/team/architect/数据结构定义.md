# MyCoffeeStore 数据结构定义

> 包含 Entity、DTO、VO、Result 的完整 Java 类定义
> 规范：所有类必须包含 @Author 注解和 @Schema 注解

---

## 1. 基础响应类

### 1.1 统一响应格式 Result<T>

```java
package com.mycoffeestore.common.result;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.time.LocalDateTime;

/**
 * 统一响应结果封装类
 *
 * @param <T> 数据类型
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "统一响应结果")
public class Result<T> implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 响应码
     */
    @Schema(description = "响应码", example = "200")
    private Integer code;

    /**
     * 响应消息
     */
    @Schema(description = "响应消息", example = "操作成功")
    private String message;

    /**
     * 响应数据
     */
    @Schema(description = "响应数据")
    private T data;

    /**
     * 时间戳
     */
    @Schema(description = "时间戳", example = "1707206400000")
    private Long timestamp;

    /**
     * 成功响应
     */
    public static <T> Result<T> success() {
        return Result.<T>builder()
                .code(200)
                .message("操作成功")
                .timestamp(System.currentTimeMillis())
                .build();
    }

    /**
     * 成功响应（带数据）
     */
    public static <T> Result<T> success(T data) {
        return Result.<T>builder()
                .code(200)
                .message("操作成功")
                .data(data)
                .timestamp(System.currentTimeMillis())
                .build();
    }

    /**
     * 成功响应（自定义消息）
     */
    public static <T> Result<T> success(String message, T data) {
        return Result.<T>builder()
                .code(200)
                .message(message)
                .data(data)
                .timestamp(System.currentTimeMillis())
                .build();
    }

    /**
     * 失败响应
     */
    public static <T> Result<T> error(String message) {
        return Result.<T>builder()
                .code(500)
                .message(message)
                .timestamp(System.currentTimeMillis())
                .build();
    }

    /**
     * 失败响应（自定义错误码）
     */
    public static <T> Result<T> error(Integer code, String message) {
        return Result.<T>builder()
                .code(code)
                .message(message)
                .timestamp(System.currentTimeMillis())
                .build();
    }
}
```

### 1.2 分页响应 PageResult<T>

```java
package com.mycoffeestore.common.result;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.util.List;

/**
 * 分页响应结果
 *
 * @param <T> 数据类型
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "分页响应结果")
public class PageResult<T> implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 总记录数
     */
    @Schema(description = "总记录数", example = "100")
    private Long total;

    /**
     * 当前页码
     */
    @Schema(description = "当前页码", example = "1")
    private Integer page;

    /**
     * 每页数量
     */
    @Schema(description = "每页数量", example = "10")
    private Integer size;

    /**
     * 数据列表
     */
    @Schema(description = "数据列表")
    private List<T> list;
}
```

---

## 2. 实体类 (Entity)

### 2.1 用户实体 User

```java
package com.mycoffeestore.entity;

import com.mycoffeestore.common.base.BaseEntity;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;

/**
 * 用户实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Schema(description = "用户实体")
@TableName("mcs_user")
public class User extends BaseEntity {

    private static final long serialVersionUID = 1L;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    @TableId(type = IdType.AUTO)
    private Long id;

    /**
     * 用户名
     */
    @Schema(description = "用户名", example = "coffee_lover")
    private String username;

    /**
     * 密码（BCrypt加密）
     */
    @Schema(description = "密码（加密）")
    private String password;

    /**
     * 邮箱
     */
    @Schema(description = "邮箱", example = "coffee@example.com")
    private String email;

    /**
     * 手机号
     */
    @Schema(description = "手机号", example = "14155551234")
    private String phone;

    /**
     * 头像URL
     */
    @Schema(description = "头像URL")
    private String avatar;

    /**
     * 状态：0-禁用，1-正常
     */
    @Schema(description = "状态：0-禁用，1-正常", example = "1")
    private Integer status;

    /**
     * 最后登录时间
     */
    @Schema(description = "最后登录时间")
    private LocalDateTime lastLoginAt;

    /**
     * 最后登录IP
     */
    @Schema(description = "最后登录IP")
    private String lastLoginIp;
}
```

### 2.2 咖啡实体 Coffee

```java
package com.mycoffeestore.entity;

import com.mycoffeestore.common.base.BaseEntity;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;

import java.math.BigDecimal;
import java.util.List;

/**
 * 咖啡产品实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Schema(description = "咖啡产品实体")
@TableName("mcs_coffee")
public class Coffee extends BaseEntity {

    private static final long serialVersionUID = 1L;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    @TableId(type = IdType.AUTO)
    private Long id;

    /**
     * 咖啡名称
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String name;

    /**
     * 咖啡描述
     */
    @Schema(description = "咖啡描述", example = "精选阿拉比卡豆，深度烘焙")
    private String description;

    /**
     * 现价
     */
    @Schema(description = "现价", example = "4.50")
    private BigDecimal price;

    /**
     * 原价
     */
    @Schema(description = "原价", example = "5.50")
    private BigDecimal originalPrice;

    /**
     * 分类：espresso-意式，brew-手冲，cold-冷萃，blend-拼配
     */
    @Schema(description = "分类", example = "espresso")
    private String category;

    /**
     * 分类名称
     */
    @Schema(description = "分类名称", example = "意式浓缩系列")
    private String categoryName;

    /**
     * 主图URL
     */
    @Schema(description = "主图URL")
    private String imageUrl;

    /**
     * 图片列表（JSON）
     */
    @Schema(description = "图片列表")
    @TableField(typeHandler = JsonTypeHandler.class)
    private List<String> images;

    /**
     * 库存数量
     */
    @Schema(description = "库存数量", example = "100")
    private Integer stock;

    /**
     * 销量
     */
    @Schema(description = "销量", example = "1250")
    private Integer sales;

    /**
     * 状态：0-下架，1-上架，2-售罄
     */
    @Schema(description = "状态：0-下架，1-上架，2-售罄", example = "1")
    private Integer status;

    /**
     * 排序值
     */
    @Schema(description = "排序值", example = "100")
    private Integer sortOrder;
}
```

### 2.3 购物车实体 Cart

```java
package com.mycoffeestore.entity;

import com.mycoffeestore.common.base.BaseEntity;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;

import java.math.BigDecimal;

/**
 * 购物车实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Schema(description = "购物车实体")
@TableName("mcs_cart")
public class Cart extends BaseEntity {

    private static final long serialVersionUID = 1L;

    /**
     * 购物车项ID
     */
    @Schema(description = "购物车项ID", example = "101")
    @TableId(type = IdType.AUTO)
    private Long id;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    private Long userId;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2")
    private Integer quantity;

    /**
     * 添加时单价
     */
    @Schema(description = "添加时单价", example = "4.50")
    private BigDecimal price;
}
```

### 2.4 订单实体 Order

```java
package com.mycoffeestore.entity;

import com.mycoffeestore.common.base.BaseEntity;
import com.mycoffeestore.enums.OrderStatus;
import com.mycoffeestore.enums.OrderType;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;

import java.math.BigDecimal;
import java.time.LocalDateTime;

/**
 * 订单实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Schema(description = "订单实体")
@TableName("mcs_order")
public class Order extends BaseEntity {

    private static final long serialVersionUID = 1L;

    /**
     * 订单ID
     */
    @Schema(description = "订单ID", example = "1")
    @TableId(type = IdType.AUTO)
    private Long id;

    /**
     * 订单号
     */
    @Schema(description = "订单号", example = "ORD20240226001")
    private String orderNo;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    private Long userId;

    /**
     * 订单总金额
     */
    @Schema(description = "订单总金额", example = "14.50")
    private BigDecimal totalAmount;

    /**
     * 订单类型
     */
    @Schema(description = "订单类型", example = "dine_in")
    private OrderType orderType;

    /**
     * 订单状态
     */
    @Schema(description = "订单状态", example = "preparing")
    private OrderStatus status;

    /**
     * 备注
     */
    @Schema(description = "备注")
    private String remark;

    /**
     * 配送地址（JSON）
     */
    @Schema(description = "配送地址")
    @TableField(typeHandler = JsonTypeHandler.class)
    private DeliveryAddress deliveryAddress;

    /**
     * 取消原因
     */
    @Schema(description = "取消原因")
    private String cancelReason;

    /**
     * 支付时间
     */
    @Schema(description = "支付时间")
    private LocalDateTime paidAt;

    /**
     * 完成时间
     */
    @Schema(description = "完成时间")
    private LocalDateTime completedAt;

    /**
     * 取消时间
     */
    @Schema(description = "取消时间")
    private LocalDateTime cancelledAt;
}
```

### 2.5 订单详情实体 OrderItem

```java
package com.mycoffeestore.entity;

import com.mycoffeestore.common.base.BaseEntity;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;

import java.math.BigDecimal;

/**
 * 订单详情实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@EqualsAndHashCode(callSuper = true)
@Schema(description = "订单详情实体")
@TableName("mcs_order_item")
public class OrderItem extends BaseEntity {

    private static final long serialVersionUID = 1L;

    /**
     * 详情ID
     */
    @Schema(description = "详情ID", example = "1")
    @TableId(type = IdType.AUTO)
    private Long id;

    /**
     * 订单ID
     */
    @Schema(description = "订单ID", example = "1")
    private Long orderId;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 咖啡名称（冗余）
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String coffeeName;

    /**
     * 咖啡图片（冗余）
     */
    @Schema(description = "咖啡图片URL")
    private String imageUrl;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2")
    private Integer quantity;

    /**
     * 单价（下单时快照）
     */
    @Schema(description = "单价", example = "4.50")
    private BigDecimal price;

    /**
     * 小计
     */
    @Schema(description = "小计", example = "9.00")
    private BigDecimal subtotal;
}
```

### 2.6 基础实体类 BaseEntity

```java
package com.mycoffeestore.common.base;

import com.fasterxml.jackson.annotation.JsonFormat;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.time.LocalDateTime;

/**
 * 基础实体类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "基础实体类")
public abstract class BaseEntity implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 创建时间
     */
    @Schema(description = "创建时间")
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private LocalDateTime createTime;

    /**
     * 更新时间
     */
    @Schema(description = "更新时间")
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private LocalDateTime updateTime;

    /**
     * 删除标记：0-未删除，1-已删除
     */
    @Schema(description = "删除标记：0-未删除，1-已删除")
    private Integer isDeleted;
}
```

---

## 3. 数据传输对象 (DTO)

### 3.1 用户注册 DTO

```java
package com.mycoffeestore.dto.auth;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.Email;
import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Pattern;
import jakarta.validation.constraints.Size;

/**
 * 用户注册请求DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "用户注册请求")
public class UserRegisterDTO {

    /**
     * 用户名
     */
    @Schema(description = "用户名", example = "coffee_lover", required = true)
    @NotBlank(message = "用户名不能为空")
    @Size(min = 3, max = 20, message = "用户名长度为3-20个字符")
    private String username;

    /**
     * 密码
     */
    @Schema(description = "密码", example = "Coffee123!", required = true)
    @NotBlank(message = "密码不能为空")
    @Size(min = 6, max = 20, message = "密码长度为6-20个字符")
    private String password;

    /**
     * 邮箱
     */
    @Schema(description = "邮箱", example = "coffee@example.com", required = true)
    @NotBlank(message = "邮箱不能为空")
    @Email(message = "邮箱格式不正确")
    private String email;

    /**
     * 手机号
     */
    @Schema(description = "手机号", example = "14155551234")
    @Pattern(regexp = "^\\d{10,15}$", message = "手机号格式不正确")
    private String phone;
}
```

### 3.2 用户登录 DTO

```java
package com.mycoffeestore.dto.auth;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.NotBlank;

/**
 * 用户登录请求DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "用户登录请求")
public class UserLoginDTO {

    /**
     * 账号（用户名/邮箱/手机号）
     */
    @Schema(description = "账号", example = "coffee_lover", required = true)
    @NotBlank(message = "账号不能为空")
    private String account;

    /**
     * 密码
     */
    @Schema(description = "密码", example = "Coffee123!", required = true)
    @NotBlank(message = "密码不能为空")
    private String password;
}
```

### 3.3 添加购物车 DTO

```java
package com.mycoffeestore.dto.cart;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.Min;
import jakarta.validation.constraints.NotNull;

/**
 * 添加购物车请求DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "添加购物车请求")
public class CartAddDTO {

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1", required = true)
    @NotNull(message = "咖啡ID不能为空")
    private Long coffeeId;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2", required = true)
    @NotNull(message = "数量不能为空")
    @Min(value = 1, message = "数量必须大于0")
    private Integer quantity;
}
```

### 3.4 更新购物车 DTO

```java
package com.mycoffeestore.dto.cart;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.Min;
import jakarta.validation.constraints.NotNull;

/**
 * 更新购物车请求DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "更新购物车请求")
public class CartUpdateDTO {

    /**
     * 购物车项ID
     */
    @Schema(description = "购物车项ID", example = "101", required = true)
    @NotNull(message = "购物车项ID不能为空")
    private Long cartId;

    /**
     * 新数量
     */
    @Schema(description = "新数量", example = "3", required = true)
    @NotNull(message = "数量不能为空")
    @Min(value = 1, message = "数量必须大于0")
    private Integer quantity;
}
```

### 3.5 创建订单 DTO

```java
package com.mycoffeestore.dto.order;

import com.mycoffeestore.enums.OrderType;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.Valid;
import jakarta.validation.constraints.NotEmpty;
import jakarta.validation.constraints.NotNull;
import jakarta.validation.constraints.Size;
import java.util.List;

/**
 * 创建订单请求DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "创建订单请求")
public class OrderCreateDTO {

    /**
     * 订单类型
     */
    @Schema(description = "订单类型：dine_in-堂食，takeaway-外带，delivery-外卖", example = "dine_in", required = true)
    @NotNull(message = "订单类型不能为空")
    private OrderType orderType;

    /**
     * 订单项列表
     */
    @Schema(description = "订单项列表", required = true)
    @NotEmpty(message = "订单项不能为空")
    @Size(min = 1, message = "至少有一个订单项")
    @Valid
    private List<OrderItemDTO> items;

    /**
     * 备注
     */
    @Schema(description = "备注", example = "少糖，少冰")
    @Size(max = 500, message = "备注长度不能超过500字符")
    private String remark;

    /**
     * 配送地址（外卖时必填）
     */
    @Schema(description = "配送地址")
    @Valid
    private DeliveryAddressDTO deliveryAddress;
}
```

### 3.6 订单项 DTO

```java
package com.mycoffeestore.dto.order;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.Min;
import jakarta.validation.constraints.NotNull;
import java.math.BigDecimal;

/**
 * 订单项DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "订单项")
public class OrderItemDTO {

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1", required = true)
    @NotNull(message = "咖啡ID不能为空")
    private Long coffeeId;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2", required = true)
    @NotNull(message = "数量不能为空")
    @Min(value = 1, message = "数量必须大于0")
    private Integer quantity;

    /**
     * 单价
     */
    @Schema(description = "单价", example = "4.50", required = true)
    @NotNull(message = "单价不能为空")
    private BigDecimal price;
}
```

### 3.7 配送地址 DTO

```java
package com.mycoffeestore.dto.order;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import jakarta.validation.constraints.NotBlank;
import jakarta.validation.constraints.Size;

/**
 * 配送地址DTO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "配送地址")
public class DeliveryAddressDTO {

    /**
     * 详细地址
     */
    @Schema(description = "详细地址", example = "123 Haight St", required = true)
    @NotBlank(message = "详细地址不能为空")
    private String address;

    /**
     * 城市
     */
    @Schema(description = "城市", example = "San Francisco", required = true)
    @NotBlank(message = "城市不能为空")
    private String city;

    /**
     * 州/省
     */
    @Schema(description = "州/省", example = "CA", required = true)
    @NotBlank(message = "州/省不能为空")
    private String state;

    /**
     * 邮编
     */
    @Schema(description = "邮编", example = "94117", required = true)
    @NotBlank(message = "邮编不能为空")
    private String zipCode;

    /**
     * 联系电话
     */
    @Schema(description = "联系电话", example = "14155551234", required = true)
    @NotBlank(message = "联系电话不能为空")
    private String phone;
}
```

---

## 4. 视图对象 (VO)

### 4.1 用户信息 VO

```java
package com.mycoffeestore.vo.auth;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.time.LocalDateTime;

/**
 * 用户信息VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "用户信息")
public class UserVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    private Long userId;

    /**
     * 用户名
     */
    @Schema(description = "用户名", example = "coffee_lover")
    private String username;

    /**
     * 邮箱
     */
    @Schema(description = "邮箱", example = "coffee@example.com")
    private String email;

    /**
     * 手机号
     */
    @Schema(description = "手机号", example = "14155551234")
    private String phone;

    /**
     * 头像URL
     */
    @Schema(description = "头像URL")
    private String avatar;

    /**
     * 创建时间
     */
    @Schema(description = "创建时间")
    private LocalDateTime createTime;
}
```

### 4.2 登录响应 VO

```java
package com.mycoffeestore.vo.auth;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;

/**
 * 登录响应VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "登录响应")
public class LoginVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    private Long userId;

    /**
     * 用户名
     */
    @Schema(description = "用户名", example = "coffee_lover")
    private String username;

    /**
     * 邮箱
     */
    @Schema(description = "邮箱", example = "coffee@example.com")
    private String email;

    /**
     * 手机号
     */
    @Schema(description = "手机号", example = "14155551234")
    private String phone;

    /**
     * 访问令牌
     */
    @Schema(description = "访问令牌")
    private String token;
}
```

### 4.3 咖啡列表项 VO

```java
package com.mycoffeestore.vo.coffee;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;

/**
 * 咖啡列表项VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "咖啡列表项")
public class CoffeeListItemVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 咖啡名称
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String name;

    /**
     * 咖啡描述
     */
    @Schema(description = "咖啡描述", example = "精选阿拉比卡豆，深度烘焙")
    private String description;

    /**
     * 现价
     */
    @Schema(description = "现价", example = "4.50")
    private BigDecimal price;

    /**
     * 原价
     */
    @Schema(description = "原价", example = "5.50")
    private BigDecimal originalPrice;

    /**
     * 分类
     */
    @Schema(description = "分类", example = "espresso")
    private String category;

    /**
     * 主图URL
     */
    @Schema(description = "主图URL")
    private String imageUrl;

    /**
     * 库存
     */
    @Schema(description = "库存", example = "100")
    private Integer stock;

    /**
     * 状态
     */
    @Schema(description = "状态：0-下架，1-上架，2-售罄", example = "1")
    private Integer status;
}
```

### 4.4 咖啡详情 VO

```java
package com.mycoffeestore.vo.coffee;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

/**
 * 咖啡详情VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "咖啡详情")
public class CoffeeDetailVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 咖啡名称
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String name;

    /**
     * 咖啡描述
     */
    @Schema(description = "咖啡描述", example = "精选阿拉比卡豆，深度烘焙，口感醇厚")
    private String description;

    /**
     * 现价
     */
    @Schema(description = "现价", example = "4.50")
    private BigDecimal price;

    /**
     * 原价
     */
    @Schema(description = "原价", example = "5.50")
    private BigDecimal originalPrice;

    /**
     * 分类
     */
    @Schema(description = "分类", example = "espresso")
    private String category;

    /**
     * 分类名称
     */
    @Schema(description = "分类名称", example = "意式浓缩系列")
    private String categoryName;

    /**
     * 主图URL
     */
    @Schema(description = "主图URL")
    private String imageUrl;

    /**
     * 图片列表
     */
    @Schema(description = "图片列表")
    private List<String> images;

    /**
     * 库存
     */
    @Schema(description = "库存", example = "100")
    private Integer stock;

    /**
     * 状态
     */
    @Schema(description = "状态：0-下架，1-上架，2-售罄", example = "1")
    private Integer status;

    /**
     * 销量
     */
    @Schema(description = "销量", example = "1250")
    private Integer sales;

    /**
     * 创建时间
     */
    @Schema(description = "创建时间")
    private LocalDateTime createTime;
}
```

### 4.5 购物车项 VO

```java
package com.mycoffeestore.vo.cart;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;

/**
 * 购物车项VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "购物车项")
public class CartItemVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 购物车项ID
     */
    @Schema(description = "购物车项ID", example = "101")
    private Long cartId;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 咖啡名称
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String coffeeName;

    /**
     * 图片URL
     */
    @Schema(description = "图片URL")
    private String imageUrl;

    /**
     * 单价
     */
    @Schema(description = "单价", example = "4.50")
    private BigDecimal price;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2")
    private Integer quantity;

    /**
     * 小计
     */
    @Schema(description = "小计", example = "9.00")
    private BigDecimal subtotal;

    /**
     * 库存
     */
    @Schema(description = "库存", example = "100")
    private Integer stock;

    /**
     * 状态
     */
    @Schema(description = "状态：0-下架，1-上架，2-售罄", example = "1")
    private Integer status;
}
```

### 4.6 购物车列表 VO

```java
package com.mycoffeestore.vo.cart;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;
import java.util.List;

/**
 * 购物车列表VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "购物车列表")
public class CartListVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 总数量
     */
    @Schema(description = "总数量", example = "5")
    private Integer totalQuantity;

    /**
     * 总金额
     */
    @Schema(description = "总金额", example = "22.50")
    private BigDecimal totalPrice;

    /**
     * 购物车项列表
     */
    @Schema(description = "购物车项列表")
    private List<CartItemVO> items;
}
```

### 4.7 订单列表项 VO

```java
package com.mycoffeestore.vo.order;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;
import java.time.LocalDateTime;

/**
 * 订单列表项VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "订单列表项")
public class OrderListItemVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 订单号
     */
    @Schema(description = "订单号", example = "ORD20240226001")
    private String orderId;

    /**
     * 订单总金额
     */
    @Schema(description = "订单总金额", example = "14.50")
    private BigDecimal totalAmount;

    /**
     * 订单类型
     */
    @Schema(description = "订单类型", example = "dine_in")
    private String orderType;

    /**
     * 订单类型名称
     */
    @Schema(description = "订单类型名称", example = "堂食")
    private String orderTypeName;

    /**
     * 订单状态
     */
    @Schema(description = "订单状态", example = "preparing")
    private String status;

    /**
     * 订单状态名称
     */
    @Schema(description = "订单状态名称", example = "制作中")
    private String statusName;

    /**
     * 订单项数量
     */
    @Schema(description = "订单项数量", example = "3")
    private Integer itemCount;

    /**
     * 创建时间
     */
    @Schema(description = "创建时间")
    private LocalDateTime createTime;
}
```

### 4.8 订单详情 VO

```java
package com.mycoffeestore.vo.order;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;
import java.time.LocalDateTime;
import java.util.List;

/**
 * 订单详情VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "订单详情")
public class OrderDetailVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 订单号
     */
    @Schema(description = "订单号", example = "ORD20240226001")
    private String orderId;

    /**
     * 用户ID
     */
    @Schema(description = "用户ID", example = "1")
    private Long userId;

    /**
     * 用户名
     */
    @Schema(description = "用户名", example = "coffee_lover")
    private String username;

    /**
     * 订单总金额
     */
    @Schema(description = "订单总金额", example = "14.50")
    private BigDecimal totalAmount;

    /**
     * 订单类型
     */
    @Schema(description = "订单类型", example = "dine_in")
    private String orderType;

    /**
     * 订单类型名称
     */
    @Schema(description = "订单类型名称", example = "堂食")
    private String orderTypeName;

    /**
     * 订单状态
     */
    @Schema(description = "订单状态", example = "preparing")
    private String status;

    /**
     * 订单状态名称
     */
    @Schema(description = "订单状态名称", example = "制作中")
    private String statusName;

    /**
     * 备注
     */
    @Schema(description = "备注")
    private String remark;

    /**
     * 订单项列表
     */
    @Schema(description = "订单项列表")
    private List<OrderItemDetailVO> items;

    /**
     * 创建时间
     */
    @Schema(description = "创建时间")
    private LocalDateTime createTime;

    /**
     * 更新时间
     */
    @Schema(description = "更新时间")
    private LocalDateTime updateTime;
}
```

### 4.9 订单项详情 VO

```java
package com.mycoffeestore.vo.order;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;
import java.math.BigDecimal;

/**
 * 订单项详情VO
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "订单项详情")
public class OrderItemDetailVO implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 订单项ID
     */
    @Schema(description = "订单项ID", example = "1")
    private Long itemId;

    /**
     * 咖啡ID
     */
    @Schema(description = "咖啡ID", example = "1")
    private Long coffeeId;

    /**
     * 咖啡名称
     */
    @Schema(description = "咖啡名称", example = "经典美式")
    private String coffeeName;

    /**
     * 图片URL
     */
    @Schema(description = "图片URL")
    private String imageUrl;

    /**
     * 数量
     */
    @Schema(description = "数量", example = "2")
    private Integer quantity;

    /**
     * 单价
     */
    @Schema(description = "单价", example = "4.50")
    private BigDecimal price;

    /**
     * 小计
     */
    @Schema(description = "小计", example = "9.00")
    private BigDecimal subtotal;
}
```

---

## 5. 枚举类

### 5.1 订单类型枚举

```java
package com.mycoffeestore.enums;

import com.fasterxml.jackson.annotation.JsonValue;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Getter;

/**
 * 订单类型枚举
 *
 * @author Architect
 * @since 2024-02-26
 */
@Getter
@AllArgsConstructor
@Schema(description = "订单类型")
public enum OrderType {

    /**
     * 堂食
     */
    DINE_IN("dine_in", "堂食"),

    /**
     * 外带
     */
    TAKEAWAY("takeaway", "外带"),

    /**
     * 外卖
     */
    DELIVERY("delivery", "外卖");

    /**
     * 类型代码
     */
    @JsonValue
    @Schema(description = "类型代码")
    private final String code;

    /**
     * 类型名称
     */
    @Schema(description = "类型名称")
    private final String name;

    /**
     * 根据代码获取枚举
     */
    public static OrderType fromCode(String code) {
        for (OrderType type : values()) {
            if (type.getCode().equals(code)) {
                return type;
            }
        }
        throw new IllegalArgumentException("无效的订单类型: " + code);
    }
}
```

### 5.2 订单状态枚举

```java
package com.mycoffeestore.enums;

import com.fasterxml.jackson.annotation.JsonValue;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Getter;

/**
 * 订单状态枚举
 *
 * @author Architect
 * @since 2024-02-26
 */
@Getter
@AllArgsConstructor
@Schema(description = "订单状态")
public enum OrderStatus {

    /**
     * 待确认
     */
    PENDING("pending", "待确认"),

    /**
     * 已确认
     */
    CONFIRMED("confirmed", "已确认"),

    /**
     * 制作中
     */
    PREPARING("preparing", "制作中"),

    /**
     * 待取餐
     */
    READY("ready", "待取餐"),

    /**
     * 已完成
     */
    COMPLETED("completed", "已完成"),

    /**
     * 已取消
     */
    CANCELLED("cancelled", "已取消");

    /**
     * 状态代码
     */
    @JsonValue
    @Schema(description = "状态代码")
    private final String code;

    /**
     * 状态名称
     */
    @Schema(description = "状态名称")
    private final String name;

    /**
     * 根据代码获取枚举
     */
    public static OrderStatus fromCode(String code) {
        for (OrderStatus status : values()) {
            if (status.getCode().equals(code)) {
                return status;
            }
        }
        throw new IllegalArgumentException("无效的订单状态: " + code);
    }
}
```

---

## 6. 配送地址实体

```java
package com.mycoffeestore.common.entity;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Builder;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;

/**
 * 配送地址实体
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@Builder
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "配送地址")
public class DeliveryAddress implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 详细地址
     */
    @Schema(description = "详细地址", example = "123 Haight St")
    private String address;

    /**
     * 城市
     */
    @Schema(description = "城市", example = "San Francisco")
    private String city;

    /**
     * 州/省
     */
    @Schema(description = "州/省", example = "CA")
    private String state;

    /**
     * 邮编
     */
    @Schema(description = "邮编", example = "94117")
    private String zipCode;

    /**
     * 联系电话
     */
    @Schema(description = "联系电话", example = "14155551234")
    private String phone;
}
```

---

## 7. 分页查询基类

```java
package com.mycoffeestore.common.query;

import io.swagger.v3.oas.annotations.media.Schema;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.io.Serializable;

/**
 * 分页查询基类
 *
 * @author Architect
 * @since 2024-02-26
 */
@Data
@NoArgsConstructor
@AllArgsConstructor
@Schema(description = "分页查询参数")
public class PageQuery implements Serializable {

    private static final long serialVersionUID = 1L;

    /**
     * 页码
     */
    @Schema(description = "页码", example = "1")
    private Integer page = 1;

    /**
     * 每页数量
     */
    @Schema(description = "每页数量", example = "10")
    private Integer size = 10;

    /**
     * 获取偏移量
     */
    public Integer getOffset() {
        return (page - 1) * size;
    }
}
```

---

*文档创建时间：2024-02-26*
*文档版本：v1.0*
